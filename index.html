<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìœ ì¬ì˜ ì´ìƒí˜• ì›”ë“œì»µ</title>

  <!-- í­ì£½ íš¨ê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <style>
    body {
      font-family: "Pretendard", sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #f1f1f1, #dfe9f3);
      padding: 40px;
    }

    h1 {
      font-size: 40px;
      margin-bottom: 10px;
    }

    #round-info {
      font-size: 22px;
      margin-bottom: 20px;
      font-weight: 600;
    }

    #game-area {
      display: flex;
      justify-content: center;
      gap: 50px;
      margin-top: 30px;
    }

    .choice {
      width: 320px;
      height: 320px;
      border-radius: 18px;
      overflow: hidden;
      cursor: pointer;
      border: 4px solid white;
      box-shadow: 0px 10px 20px rgba(0,0,0,0.15);
      transition: 0.25s;
      background: white;
    }

    .choice:hover {
      transform: scale(1.06);
      box-shadow: 0px 15px 32px rgba(0,0,0,0.25);
    }

    .choice img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    #winner-area {
      display: none;
      margin-top: 40px;
    }

    #winner-area img {
      width: 400px;
      border-radius: 20px;
      box-shadow: 0px 12px 30px rgba(0,0,0,0.25);
    }

    #winner-area h2 {
      font-size: 36px;
      margin-bottom: 20px;
    }
  </style>

</head>
<body>

  <h1>âœ¨ ìœ ì¬ì˜ ì´ìƒí˜• ì›”ë“œì»µ âœ¨</h1>
  <div id="round-info"></div>

  <div id="game-area"></div>

  <!-- ìš°ìŠ¹ í™”ë©´ -->
  <div id="winner-area">
    <h2>ğŸ† ìµœì¢… ìš°ìŠ¹ ì‚¬ì§„ ğŸ†</h2>
    <img id="winner-img">
  </div>

<script>
  // -----------------------------
  // â‘  16ê°• ì´ë¯¸ì§€ ë„£ê¸° (íŒŒì¼ëª…ë§Œ ë§ì¶”ë©´ ë¨)
  // -----------------------------
  let images = [
    "images/yjy1.png", "images/yjy2.jpg", "images/yjy3.png", "images/yjy4.jpg",
    "images/yjy5.jpg", "images/yjy6.jpg", "images/yjy7.jpg", "images/yjy8.jpg",
    "images/yjy9.jpg", "images/yjy10.png", "images/yjy11.jpg", "images/yjy12.jpg",
    "images/yjy13.jpg", "images/yjy14.jpg", "images/yjy15.jpg", "images/yjy16.jpg"
  ];

  // ëœë¤ ì„ê¸°
  images = images.sort(() => Math.random() - 0.5);

  let currentRound = [...images];
  let nextRound = [];
  let index = 0;

  function updateRoundInfo() {
    if (currentRound.length === 2) {
      document.getElementById("round-info").innerText = "ê²°ìŠ¹ì „";
    } else {
      document.getElementById("round-info").innerText =
        `${currentRound.length}ê°• (${index / 2 + 1} / ${currentRound.length / 2} ë§¤ì¹˜)`;
    }
  }

  function showMatch() {
    const gameArea = document.getElementById("game-area");

    if (index >= currentRound.length) {
      if (nextRound.length === 1) {
        showWinner(nextRound[0]);
        return;
      }
      currentRound = [...nextRound];
      nextRound = [];
      index = 0;
    }

    updateRoundInfo();

    const img1 = currentRound[index];
    const img2 = currentRound[index + 1];

    gameArea.innerHTML = `
      <div class="choice" onclick="selectWinner('${img1}')">
        <img src="${img1}">
      </div>
      <div class="choice" onclick="selectWinner('${img2}')">
        <img src="${img2}">
      </div>
    `;
  }

  function selectWinner(winnerImg) {
    nextRound.push(winnerImg);
    index += 2;
    showMatch();
  }

  function showWinner(img) {
    document.getElementById("game-area").style.display = "none";
    document.getElementById("round-info").style.display = "none";

    document.getElementById("winner-img").src = img;
    document.getElementById("winner-area").style.display = "block";

    // ğŸ† í­ì£½ íš¨ê³¼ ì‹¤í–‰
    startConfetti();
  }

  // ğŸ‰ í­ì£½(Confetti) ì‹¤í–‰ í•¨ìˆ˜
  function startConfetti() {
    var duration = 3 * 1000;
    var end = Date.now() + duration;

    (function frame() {
      confetti({
        particleCount: 5,
        angle: 60,
        spread: 55,
        origin: { x: 0 }
      });
      confetti({
        particleCount: 5,
        angle: 120,
        spread: 55,
        origin: { x: 1 }
      });

      if (Date.now() < end) {
        requestAnimationFrame(frame);
      }
    })();
  }

  // ì‹œì‘
  showMatch();

</script>
</body>
</html>
