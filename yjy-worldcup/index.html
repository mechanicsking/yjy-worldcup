<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìœ ì¬ì˜ ì´ìƒí˜• ì›”ë“œì»µ</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background: #fafafa;
      padding: 30px;
    }

    h1 {
      margin-bottom: 20px;
    }

    #game-area {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 40px;
    }

    .choice {
      width: 300px;
      height: 300px;
      border-radius: 15px;
      overflow: hidden;
      cursor: pointer;
      border: 3px solid #ddd;
      transition: 0.2s;
    }

    .choice:hover {
      transform: scale(1.05);
      border-color: #444;
    }

    .choice img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    #round-info {
      font-size: 22px;
      margin-top: 20px;
    }

    #winner img {
      width: 350px;
      border-radius: 15px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>âœ¨ ìœ ì¬ì˜ ì´ìƒí˜• ì›”ë“œì»µ âœ¨</h1>
  <div id="round-info"></div>

  <div id="game-area"></div>

  <div id="winner" style="display:none;">
    <h2>ğŸ† ìµœì¢… ìš°ìŠ¹ ì‚¬ì§„ ğŸ†</h2>
    <img id="winner-img">
  </div>

<script>
  // -----------------------------
  // â‘  ì—¬ê¸°ì— ë„¤ê°€ ë„£ì„ ì´ë¯¸ì§€ë“¤ ì¶”ê°€í•˜ë©´ ë¨
  // -----------------------------
  let images = [
    "images/yjy1.png",
    "images/yjy2.jpg",
    "images/yjy3.png",
    "images/yjy4.jpg",
    "images/yjy5.jpg",
    "images/yjy6.jpg",
    "images/yjy7.jpg",
    "images/yjy8.jpg"
  ];

  // ì„ê¸° (ëœë¤ ìˆœì„œë¡œ ì‹œì‘)
  images = images.sort(() => Math.random() - 0.5);

  let currentRound = [...images];   // ì´ë²ˆ ë¼ìš´ë“œ ì°¸ê°€ì
  let nextRound = [];               // ìŠ¹ìë“¤ ì €ì¥
  let index = 0;                    // í˜„ì¬ ëŒ€ê²° index

  function updateRoundInfo() {
    if (currentRound.length === 1) {
      document.getElementById("round-info").innerText = "ê²°ìŠ¹ì „";
    } else {
      document.getElementById("round-info").innerText =
        `${currentRound.length}ê°• ì§„í–‰ ì¤‘ (${index / 2 + 1}ë²ˆì§¸ ë§¤ì¹˜)`;
    }
  }

  function showMatch() {
    const gameArea = document.getElementById("game-area");

    // ë¼ìš´ë“œê°€ ëë‚¬ë‹¤ë©´ ë‹¤ìŒ ë¼ìš´ë“œë¡œ ì´ë™
    if (index >= currentRound.length) {
      if (nextRound.length === 1) {
        showWinner(nextRound[0]);
        return;
      }
      currentRound = [...nextRound];
      nextRound = [];
      index = 0;
    }

    updateRoundInfo();

    // ë‘ ê°œ ì´ë¯¸ì§€ ì„ íƒ
    const img1 = currentRound[index];
    const img2 = currentRound[index + 1];

    gameArea.innerHTML = `
      <div class="choice" onclick="selectWinner('${img1}')">
        <img src="${img1}">
      </div>
      <div class="choice" onclick="selectWinner('${img2}')">
        <img src="${img2}">
      </div>
    `;
  }

  function selectWinner(winnerImg) {
    nextRound.push(winnerImg);
    index += 2;
    showMatch();
  }

  function showWinner(img) {
    document.getElementById("game-area").style.display = "none";
    document.getElementById("round-info").style.display = "none";

    const winnerArea = document.getElementById("winner");
    document.getElementById("winner-img").src = img;

    winnerArea.style.display = "block";
  }

  // ì‹œì‘
  showMatch();
</script>

</body>
</html>
